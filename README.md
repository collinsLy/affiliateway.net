# Affiliateway.net\n\nA full-stack TypeScript project featuring an Express server, a Vite-powered React client, and shared schema/types using Drizzle ORM. Configured for local development and Vercel deployment.\n\n## Prerequisites\n- Node.js 20+\n- npm (or a compatible package manager)\n- A PostgreSQL instance (for Drizzle ORM)\n\n## Project Structure\n- `client/` React app built with Vite\n- `server/` Express server (TypeScript)\n- `shared/` Shared schema and types (Drizzle ORM)\n- `api/` Vercel Serverless Functions\n\n## Scripts\nFrom `package.json`:\n- `npm run dev:client` Start client dev server (Vite)\n- `npm run dev` Start server in development mode\n- `npm run build` Build server (and orchestrated build via script/build.ts)\n- `npm run build:client` Build client (Vite)\n- `npm start` Start production server (runs `node dist/index.cjs`)\n- `npm run check` TypeScript compile check\n- `npm run db:push` Push Drizzle schema to the DB\n- `npm run test:visual` Run visual regression tests\n\n## Environment Variables\nCreate and manage environment files locally (for example: `.env`, `.env.local`). Secrets should not be committed.\n\nThis repo ignores:\n- `.env*.local`\n- `.env`\n\nAdd your DB connection and any other app secrets to `.env` (or `.env.local`) as needed.\n\n## Development\nOpen two terminals:\n1. Client (Vite):\n   ```bash\n   npm run dev:client\n   ```\n2. Server (Express + tsx):\n   ```bash\n   npm run dev\n   ```\n\nThe client will run on the configured Vite port (default 5000), and the server will run via `server/index.ts`.\n\n## Build & Production\n- Build the client (used for Vercel and static assets):\n  ```bash\n  npm run build:client\n  ```\n- Build the server and bundled assets:\n  ```bash\n  npm run build\n  ```\n- Start in production:\n  ```bash\n  npm start\n  ```\n\n## Database (Drizzle ORM)\n- Push schema changes:\n  ```bash\n  npm run db:push\n  ```\nEnsure your database connection string is correctly set in your environment variables.\n\n## Testing\n- Visual regression tests:\n  ```bash\n  npm run test:visual\n  ```\n\n## Deployment (Vercel)\n`vercel.json` defines:\n- `buildCommand`: `npm run build:client`\n- `outputDirectory`: `dist/public`\n- Rewrites: `/api/(.*)` to `/api` (serverless functions), and SPA fallback `/(.*)` to `/index.html`.\n\nEnsure your environment variables are configured in Vercel dashboard.\n\n## Git Workflow\nTypical flow:\n```bash\n# stage changes\ngit add -A\n\n# commit\ngit commit -m "feat: update project and docs"\n\n# ensure branch is main\ngit branch -M main\n\n# push with upstream\ngit push -u origin main\n```\n\nThe remote is configured to: `https://github.com/collinsLy/affiliateway.net.git`. If authentication prompts appear, log in with your GitHub credentials or a Personal Access Token (PAT).\n